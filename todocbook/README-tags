
        BASIC <jbophrase> theory.

  We don't *actually* want to index every use of a Lojban word.

  So, <jbophrase> does nothing at all.

  All the *other* tags to index generation.

  The primary one is <valsi>; it's still called that even if it
  wraps a cmavo compound.  Any cmavo compound weird enough to have a
  seperate meaning should be wrapped in <valsi>.  Any others can
  just be handled by having adjacent <valsi> bits.

  We need more of these.  Lots of them, in fact.  And we need to
  allow them in lots of places.

  All <jbophrase> have been converted to <oldjbophrase>, which marks
  up badly (FIXME: todo)

  Almost everything with glossary="false", valid="false", valid="iffy"
  should simply be <jbophrase>; I can't see any use to keeping that
  stuff around.


We have a variety of local-use-only tags and roles that get converted into
docbook XML as part of the processing.

  <example> roles

  <interlinear-gloss>

This is to only be used for 

  <jbophrase>

    <cmavo-list>
      <cmavo-entry>
        <cmavo>bo</cmavo>
        <selmaho>BO</selmaho>
        <description>closest scope grouping</description>
      </cmavo-entry>
    </cmavo-list>


    <example role="interlinear-gloss-example" xml:id="example-do-mamta-mi">
      <title>
        <anchor xml:id="c5e1d1"/>
      </title>
      <interlinear-gloss>
        <jbo>do mamta mi</jbo>
        <gloss>You are-a-mother-of me</gloss>
        <en>You are my mother</en>
      </interlinear-gloss>
    </example>

    <example role="pronunciation-example" xml:id="example-random-id-k2B4">
      <title>
        <anchor xml:id="c3e3d1"/>
      </title>
      <pronunciation>
        <jbo>.i.ai.i.ai.o</jbo>
        <ipa><phrase role="IPA">[ʔi ʔaj ʔi ʔaj ʔo]</phrase></ipa>
        <en>Ee! Eye! Ee! Eye! Oh!</en>
      </pronunciation>
    </example>

<phrase role="logical-vowel">A</phrase>,

docbook2html_preprocess.xsl:  <xsl:template match="compound-cmavo">
docbook2html_preprocess.xsl:  <xsl:template match="jbophrase[count(str:tokenize(text())) = 1 and ( not(@glossary) or @glossary != 'false')
docbook2html_preprocess.xsl:  <xsl:template match="jbophrase"

  <xsl:template match="jbophrase[count(str:tokenize(text())) = 1 and (
not(@glossary) or @glossary != 'false') and ( not(@role) or ( @role !=
'morphology' and @role != 'rafsi' and @role != 'diphthong' and @role !=
'letteral' ) ) ]" priority="2">

generate_glossary.xsl:  <xsl:template name="make_slug">
generate_glossary.xsl:  <xsl:template match="//jbophrase[count(str:tokenize(text())) = 1 and ( not(@glossary) or @glossary != 'false')
generate_glossary.xsl:  <xsl:template match="//text()">

  <xsl:template match="//jbophrase[count(str:tokenize(text())) = 1 and (
not(@glossary) or @glossary != 'false') and ( not(@role) or ( @role !=
'morphology' and @role != 'rafsi' and @role != 'diphthong' and @role !=
'letteral' ) ) ]">


  ;<rafsi>\1</rafsi>;g' [0-9]*
  ;<letteral>\1</letteral>;g' [0-9]*
  ;<diphthong>\1</diphthong>;g' [0-9]*
  ;<morphology>\1</morphology>;g' [0-9]*

<pronunciation>
  <jbo>.i,ai,i,ai,on.</jbo>
  <ipa>[ʔi jaj ji jaj jonʔ]</ipa>
</pronunciation>

<lojbanization>
  <jbo>cobra</jbo>
  <jbo>sinc,r,kobra <comment>prefix rafsi</comment></jbo>
</lojbanization>

<grammar-template>X TENSE le nu Y</grammar-template>

<place-structure>x1 (seller) sells x2 (goods) to x3 (buyer) for x4
(price)</place-structure>

<inlinemath>(1000 * 6) - (500 * 0) + (100 * 0) - (10 * 15) - 3 =
5847</inlinemath>

<math>(1000 * L) - (500 * A) + (100 * H) - (10 * R) - V</math>

<lujvo-making>
  <jbo>zbasai</jbo>
  <rafsi>zba + sai</rafsi>
  <score><inlinemath>(1000 * 6) - (500 * 0) + (100 * 0) - (10 * 15) - 3 = 5847</inlinemath></score>
</lujvo-making>

    <cmavo-list>
      <cmavo-entry>
        <cmavo>ba'i</cmavo>
        <gismu>basti</gismu>
        <modal-place>replaced by</modal-place>
        <modal-place se="se">instead of</modal-place>
      </cmavo-entry>
